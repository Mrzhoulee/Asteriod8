<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload News</title>
</head>
<body>
    <nav>
        <ul>
            <li><a href="blog.html">Home</a></li>
            <li><a href="Premium.html">SCOPE</a></li>
            <li><a href="Boost.html">Boost my post</a></li>
        </ul>
    </nav>
    <input type="text" id="des" placeholder="Post here" />
    <input type="file" id="file" />
    <button onclick="po()">POST</button>
    
    <script>
        function po() {
           let currentUser = localStorage.getItem('currentUser');
            var current = document.getElementbyId('currentUser').value;
            var des = document.getElementById('des').value;
            var fileInput = document.getElementById('file');
            
            // Convert the file to a Base64 string
            var file = fileInput.files[0];
            var reader = new FileReader();
            
            reader.onload = function(event) {
                var fileBase64 = event.target.result;

                // Save description and file data to localStorage
                localStorage.setItem('des', des);
                localStorage.setItem('file', fileBase64);
                localStorage.setItem('currentUser', current);

                // Optionally, you could redirect to blog.html or provide feedback
                window.location.href = 'blog.html';
            };
            
            if (!file) {
                reader.readAsDataURL(file);  // Read the file as Base64
            } else {
                // If no file is selected, just save the description
                localStorage.setItem('des', des);
                window.location.href = 'blog.html';
            }
        }
    </script>
</body>
</html>
