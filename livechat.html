<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

    <style>
        .message {
            position: fixed;
            bottom: 0px;
            right: 650px;
        }


        #textarea {
            position: absolute;
            bottom: 40px;
            right: 700px;
        }
    </style>



    <div id="textarea"></div>



    <form>

        <input type="text" name="" id="message" class="message" value=""/>
        <button onchange="disabledbuttons" id="send-btn" type="button" class="message"><i
                class="fa fa-send-o"></i></button>

        <h3 id="alertSystem" class="message"></h3>

    </form>


    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
        import { set } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyDA66SguZ-8xkt4Ocab9W-aja_QYhEmJbM",
            authDomain: "asteroid-cdc13.firebaseapp.com",
            databaseURL: "https://asteroid-cdc13-default-rtdb.firebaseio.com",
            projectId: "asteroid-cdc13",
            storageBucket: "asteroid-cdc13.appspot.com",
            messagingSenderId: "793353824502",
            appId: "1:793353824502:web:3ac24821911d14773ba4d7",
            measurementId: "G-GV72TMNNGR"
        };
        const currentUser = localStorage.getItem("currentName");
        const app = initializeApp(firebaseConfig);

        // Initialize Firebase
        const analytics = getAnalytics(app);


        let chatName = prompt("Enter your name:");



        // Prevents form submission
        import { getDatabase, ref, child, push, update } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js";
        document.getElementById("send-btn").addEventListener('click', function (event) {
            

function writeNewPost(chatName, message, title, body) {
  const db = getDatabase();

  // A post entry.
  const postData = {
    chatName: chatName,
    message: message,
    body: body,
    title: title,
  };

  // Get a key for a new Post.
  const newPostKey = push(child(ref(db), 'livechatroom')).key;

  // Write the new post's data simultaneously in the posts list and the user's post list.
  const updates = {};
  updates['/livechatroom/' + livechatroom] = postData;
  updates['/https://asteroid-cdc13-default-rtdb.firebaseio.com/livechatroom/' + chatName + '/' + newPostKey] = postData;

  return update(ref(db), updates);
}




            var message = document.getElementById("message").value;
            document.getElementById("textarea").innerHTML += chatName + " : " + message + "<br>";
            document.getElementById("message").value = " ";
        });
    </script>
</body>

</html>